(function(t){function e(e){for(var i,n,o=e[0],l=e[1],c=e[2],u=0,p=[];u<o.length;u++)n=o[u],s[n]&&p.push(s[n][0]),s[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(i=!1)}i&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var i={},s={app:0},r=[];function n(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=i,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var i=a("2b0e"),s=a("bb71");a("da64");i["a"].use(s["a"],{iconfont:"md"});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-card",{attrs:{color:"grey lighten-4"}},[a("v-navigation-drawer",{staticClass:"hidden-sm-and-up",attrs:{absolute:""},model:{value:t.sideNav,callback:function(e){t.sideNav=e},expression:"sideNav"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-list",[a("v-list-tile",[a("v-list-tile-title",{staticClass:"title"},[t._v("\n              "+t._s(t.appName)+"\n            ")])],1)],1)],1),a("v-list",t._l(t.menuItems,function(e){return a("v-list-tile",{key:e.title,attrs:{to:e.link}},[a("v-list-tile-action",[a("v-icon",[t._v(t._s(e.icon))])],1),e.badge?a("v-badge",{attrs:{color:"red"}},[a("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(e.badge))]),a("span",[t._v(t._s(e.title))])]):a("v-list-tile-content",[t._v(t._s(e.title))])],1)}),1)],1),a("v-toolbar",{attrs:{color:"teal lighten-1",dark:""}},[a("v-toolbar-side-icon",{staticClass:"hidden-sm-and-up",on:{click:function(e){e.stopPropagation(),t.sideNav=!t.sideNav}}}),a("v-toolbar-title",[a("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[t._v("\n          "+t._s(t.appName)+"\n        ")])],1),a("v-spacer"),a("v-toolbar-items",{staticClass:"hidden-xs-only"},t._l(t.menuItems,function(e){return a("v-btn",{key:e.title,attrs:{flat:"",to:e.link}},[a("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),e.badge?a("v-badge",{attrs:{color:"red"}},[a("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(e.badge))]),a("span",[t._v(t._s(e.title))])]):a("span",[t._v(t._s(e.title))])],1)}),1)],1)],1),a("router-view")],1)},n=[],o={name:"App",components:{},data:function(){return{appName:"PHS-AQI",menuItems:[{icon:"map",title:"Map",link:"/map"}]}}},l=o,c=a("2877"),d=a("6544"),u=a.n(d),p=a("7496"),v=a("4ca6"),m=a("8336"),f=a("b0af"),h=a("132d"),g=a("8860"),_=a("ba95"),b=a("40fe"),x=a("5d23"),y=a("f774"),w=a("9910"),k=a("71d9"),C=a("2a7f"),V=a("706c"),q=Object(c["a"])(l,r,n,!1,null,null,null),A=q.exports;u()(q,{VApp:p["a"],VBadge:v["a"],VBtn:m["a"],VCard:f["a"],VIcon:h["a"],VList:g["a"],VListTile:_["a"],VListTileAction:b["a"],VListTileContent:x["a"],VListTileTitle:x["b"],VNavigationDrawer:y["a"],VSpacer:w["a"],VToolbar:k["a"],VToolbarItems:C["a"],VToolbarSideIcon:V["a"],VToolbarTitle:C["b"]});var j=a("8c4f"),T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-container",{attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",lg4:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"green darken-2"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("Online")]),a("span",[t._v(t._s(t.sensor_online)+" Device.")])])])],1)],1),a("v-flex",{attrs:{xs12:"",lg4:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"red darken-2"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("Offline")]),a("span",[t._v(t._s(t.sensor_offline)+" Device.")])])])],1)],1),a("v-flex",{attrs:{xs12:"",lg4:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"teal lighten-1"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("All Sensor")]),a("span",[t._v(t._s(t.sensor_all)+" Device.")])])])],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",lg3:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"teal lighten-1"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("PM2.5")]),a("span",[t._v(t._s(t.avg_pm25)+" ug/m3")])])])],1)],1),a("v-flex",{attrs:{xs12:"",lg3:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"teal lighten-1"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("PM10")]),a("span",[t._v(t._s(t.avg_pm10)+" ug/m3")])])])],1)],1),a("v-flex",{attrs:{xs12:"",lg3:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"teal lighten-1"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("Temperature")]),a("span",[t._v(t._s(t.avg_temp)+" C")])])])],1)],1),a("v-flex",{attrs:{xs12:"",lg3:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"teal lighten-1"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("Humidity")]),a("span",[t._v(t._s(t.avg_humi)+" %")])])])],1)],1)],1)],1)],1)},O=[],S=a("bc3a"),I=a.n(S),L={data:function(){return{sensor_online:0,sensor_offline:0,sensor_all:0,avg_pm10:0,avg_pm25:0,avg_temp:0,avg_humi:0,ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuetifyjs.com"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/layout/pre-defined"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]}},mounted:function(){var t=this;I.a.post("http://localhost:8081/api/v1/dashboard").then(function(e){t.sensor_online=e.data.Online,t.sensor_offline=e.data.Offline,t.sensor_all=e.data.All,t.avg_pm10=e.data.PM10,t.avg_pm25=e.data.PM25,t.avg_temp=e.data.Temp,t.avg_humi=e.data.Humi})}},P=L,M=a("12b2"),N=a("a523"),$=a("0e8f"),Q=a("a722"),D=Object(c["a"])(P,T,O,!1,null,null,null);D.exports;u()(D,{VCard:f["a"],VCardTitle:M["a"],VContainer:N["a"],VFlex:$["a"],VLayout:Q["a"]});var E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("GmapMap",{staticStyle:{width:"100%",display:"block",height:"100%"},attrs:{center:t.mapCenter,zoom:t.mapZoom,"map-type-id":"roadmap",options:t.mapOptions}},t._l(t.markers,function(e,i){return a("GmapMarker",{key:i,attrs:{position:e.position,icon:t.getIcon(e),alignment:"center"},on:{click:function(e){return t.display(i)}}})}),1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{attrs:{color:t.dialog_color}},[a("span",{staticClass:"headline"},[t._v("Station : "+t._s(t.station.name)+" "+t._s(t.getStatus(t.station)))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{color:"black",disabled:!0,label:"AQI"},model:{value:t.station.th_aqi,callback:function(e){t.$set(t.station,"th_aqi",e)},expression:"station.th_aqi"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{color:t.text_color,disabled:!0,label:"PM2.5 (Realtime) µg./m3",required:""},model:{value:t.station.pm25,callback:function(e){t.$set(t.station,"pm25",e)},expression:"station.pm25"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{color:t.text_color,disabled:!0,label:"Temperature (°C)",required:""},model:{value:t.station.temp,callback:function(e){t.$set(t.station,"temp",e)},expression:"station.temp"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{color:t.text_color,disabled:!0,label:"Humidity (%)",required:""},model:{value:t.station.humi,callback:function(e){t.$set(t.station,"humi",e)},expression:"station.humi"}})],1),a("v-flex",{attrs:{xs6:"",sm6:"",md6:""}},[a("v-text-field",{attrs:{color:t.text_color,disabled:!0,label:"Last Update",required:""},model:{value:t.station.dtm,callback:function(e){t.$set(t.station,"dtm",e)},expression:"station.dtm"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"black",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("Close")])],1)],1)],1)],1)},U=[],B=a("bd86"),F=a("59ad"),H=a.n(F),Z=(a("7f7f"),a("ac6a"),a("755e")),z=a("0284"),G=a.n(z);i["a"].use(G.a,{id:"UA-136776555-1"}),i["a"].use(Z,{load:{key:"AIzaSyAP643J8qbUflgApZNfsbfUeA1r3pZ5AGs",libraries:"places"}});var J={name:"map",data:function(){return{api_url:"https://www.phitloktoday.com/api/v1/station",markers:[],srcicon:[],mapOptions:{disableDefaultUI:!0},dialog:!1,dialog_color:"rgb(168,224,95)",text_color:"rgb(255,255,255)",station_index:0,station:{name:"--",serial:"--",pm25:"--",pm10:"--",temp:"--",humi:"--",dtm:"--"},bg_colors:["rgb(218,218,218)","rgb(47,155,0)","rgb(168,224,95)","rgb(255,215,0)","rgb(255,169,104)","rgb(254,106,105)"],txt_colors:["rgb(140,140,140)","rgb(106,236,50)","rgb(0,139,0)","rgb(165,127,35)","rgb(178,34,34)","\trgb(175,44,59)"],description:["--","ดีมาก","ดี","ปานกลาง","เริ่มมีผลต่อสุขภาพ","มีผลกระทบต่อสุขภาพ"],style_modal:"",sideNav:!1,menuItems:[],mapCenter:{lat:16.818225,lng:100.271653},mapZoom:11,aqi_type:"th",aqi_mode:1}},mounted:function(){this.loadStation(),setInterval(function(){this.loadStation()}.bind(this),6e4)},methods:Object(B["a"])({display:function(t){this.dialog=!0,this.station_index=t,this.station=this.markers[t],this.dialog_color=this.bg_colors[this.station.level],this.text_color=this.txt_colors[this.station.level]},loadStation:function(){var t=this;I.a.post(this.api_url).then(function(e){t.markers=[],e.data.forEach(function(e){t.markers.push({th_aqi:e.th_aqi,ch_aqi:e.ch_aqi,us_aqi:e.us_aqi,pm25_avg:e.pm25_avg,pm10:e.pm10,pm25:e.pm25,temp:e.temp,humi:e.humi,serial:e.serial,name:e.name,status:e.status,dtm:e.dtm,position:{lat:H()(e.lat),lng:H()(e.lng)}}),t.station=t.markers[t.station_index]})})},getIcon:function(t){return'data:image/svg+xml;utf-8,             <svg width="40px" height="40px" viewBox="0 0 54.4 54.4" xmlns="http://www.w3.org/2000/svg">                 <circle  fill="'+this.bg_colors[this.getLevel(t)]+'" cx="27.2" cy="27.2" r="27.2"/>                 <text dx="27" dy="35" text-anchor="middle" fill="'+this.txt_colors[this.getLevel(t)]+'" style="font-size:20px;  font-family: Arial, Verdana; font-weight: bold">'+this.getAQI(t)+"</text>            </svg>"},getAQI:function(t){return t.th_aqi},getLevelPM25:function(t){},getLevelAQI:function(t){var e=[25,50,100,200,500,0],a=[0,26,51,101,201,0],i=[50,100,150,200,300,500],s=[0,51,101,151,201,301],r=[50,100,150,200,300,500],n=[0,51,101,151,201,301];if(0==t.status)return 0;for(var o=0;o<6;o++){if("ch"==this.aqi_type&&t.ch_aqi>=s[o]&&t.ch_aqi<=i[o])return o+1;if("us"==this.aqi_type&&t.us_aqi>=n[o]&&t.us_aqi<=r[o])return o+1;if("th"==this.aqi_type&&t.th_aqi>=a[o]&&t.th_aqi<=e[o])return o+1}return 0},getText:function(t,e){return 0==e?"--":t},getStatus:function(t){return 0==t.status?"(Offline)":" - คุณภาพอากาศ "+this.description[this.getLevel(t)]},track:function(){this.$ga.page("/map")},getLevel:function(t){return this.aqi_mode,this.getLevelAQI(t)}},"getAQI",function(t){return 0==t.status?"--":(this.aqi_mode,t.th_aqi)})},R=J,K=a("99d9"),W=a("549c"),X=a("169a"),Y=a("2677"),tt=Object(c["a"])(R,E,U,!1,null,null,null),et=tt.exports;u()(tt,{VApp:p["a"],VBtn:m["a"],VCard:f["a"],VCardActions:K["a"],VCardText:K["b"],VCardTitle:M["a"],VContainer:N["a"],VContent:W["a"],VDialog:X["a"],VFlex:$["a"],VLayout:Q["a"],VSpacer:w["a"],VTextField:Y["a"]}),i["a"].config.productionTip=!1,i["a"].use(j["a"]);var at=[{path:"/dashboard",component:et},{path:"/",component:et},{path:"/map",component:et}],it=new j["a"]({routes:at});new i["a"]({router:it,render:function(t){return t(A)}}).$mount("#app")}});
//# sourceMappingURL=app.c50252f3.js.map